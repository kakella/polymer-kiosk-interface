<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="dox-kiosk-panel-youtube-autoplay">
  <template>
    <style>
      div {
        position: fixed;
        z-index: -99;
        width: 100%;
        height: 100%
      }
      iframe {
        pointer-events: none;
      }
    </style>

    <div>
      <iframe frameborder="0" height="100%" width="100%">
      </iframe>
    </div>

  </template>

</dom-module>
<script>
  Polymer({
    is: 'dox-kiosk-panel-youtube-autoplay',

    properties: {
      playVideo: {
        type: String,
        notify: true,
        reflectToAttribute: true,
        value: "true"
      },
      playVideoValue: {
        type: Boolean,
        computed: 'toggleVideo(playVideo)'
      }
    },

    toggleVideo: function(val) {
      var iframe = this.$$("iframe");

      if (val === "true") {
        iframe.setAttribute("src", "https://www.youtube.com/embed?listType=playlist&list=PLCJB0pF4CxjRYFRlOwYsJIo4S7oHaULoj&autoplay=1&controls=0&disablekb=1&showinfo=0&autohide=1&loop=1&iv_load_policy=3");
        return true;
      } else {
        iframe.setAttribute("src", "");
        return false;
      }
    }

  });
</script>
